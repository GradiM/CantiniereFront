<div class="container">
    <div [hidden]="submitted">
        <h1 class="mt-3 text-center">Connexion</h1>
        <p class="avatar"><i class="fa fa-user"></i></p>
        <form [formGroup]="userForm" (ngSubmit)="onSubmit()" #connectForm="ngForm">
            <div class="form-group">
                <label for="email">Email : </label>
                <input type="email" class="form-control ng-untouched ng-pristine ng-valid" id="email" formControlName="email" required
                >
                <div [hidden]="email.valid || email.pristine" style="margin-top: 8px;">
                    <small *ngIf="email.errors?.required"  class="alert alert-danger">Email is required</small>
                </div>
            </div>
            <div class="form-group">
                <label for="password">Mot de passe : </label>
                <input type="password" class="form-control ng-untouched ng-pristine ng-valid" id="password" formControlName="password" required
                >
                <div [hidden]="password.valid || password.pristine" style="margin-top: 8px;">
                    <small *ngIf="password.errors?.required"  class="alert alert-danger">Password is required</small>
                </div>
            </div>
            <p class="link clearfix"><button class="btn btn-link" routerLink='/forgot'>Mot de passe oublié?</button></p>
            <div class="text-center connexion">
                <button type="submit" class="btn btn-success" [disabled]="!connectForm.form.valid" (click)="valide()">Me connectez</button>
            </div>
        </form>
        <p class="text-center mt-5 info">Nouveau Client?</p>
        <div class="text-center register">
            <button type="button" class="btn btn-primary" (click)="registerUser()">Créer mon compte</button>
        </div>
        
        <div *ngIf="clickSubmit"> 
            <span *ngIf="password.status != 'valid' || email.status != 'valid'" [ngClass]="{'bad': 'message.error'}">{{ message }}</span>
        </div>   
    </div>
    
</div>
